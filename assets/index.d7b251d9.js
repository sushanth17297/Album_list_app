import{j as g,F as v,L as b,r as m,R as j,a as y,b as L,B as I}from"./vendor.4924d1dd.js";const U=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function c(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerpolicy&&(n.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?n.credentials="include":l.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(l){if(l.ep)return;l.ep=!0;const n=c(l);fetch(l.href,n)}};U();const e=g.exports.jsx,s=g.exports.jsxs,h=g.exports.Fragment,x=t=>s("div",{className:"w-full p-5 bg-black flex justify-between fixed",children:[s("h2",{className:"bg-gray-400  w-fit p-2",onClick:()=>t.handleClick(!1),children:[e("span",{className:"mr-2 text-3xl font-bold",children:"ALBUMS"}),e(v,{icon:"fa-solid fa-compact-disc"}),e("span",{className:"bg-black text-gray-400 text-3xl font-bold",children:"LIST"})]}),e(b,{to:t.path,children:e("button",{className:"border-2 border-gray-400 text-gray-400 px-5 py-2 cursor-pointer transition duration-300 ease-in-out font-medium hover:bg-gray-400 hover:text-black",children:t.page})})]}),k=t=>{const[r,c]=m.exports.useState(""),[a,l]=m.exports.useState("");return s(h,{children:[e(x,{path:"/",page:"Home"}),e("div",{className:"bg-gray-900 font-P3oppins h-screen items-center flex justify-center",children:s("div",{className:"p-4 bg-gray-400 rounded-xl flex-wrap space-y-5 w-128 h-64",children:[e("div",{className:"flex justify-center font-bold",children:e("h4",{children:"Enter New Album Details"})}),e("div",{className:"mr-10 bg-white rounded-lg",children:e("input",{id:"aaform-userid-inp",className:"m-2 pl-2 pr-4 bg-transparent outline-none w-full max-w-md",type:"number",value:r,placeholder:"Enter User Id",onChange:o=>c(o.target.value)})}),e("div",{className:"mr-10 bg-white rounded-lg",children:e("input",{id:"aaform-title-inp",className:"m-2 pl-2 pr-4 bg-transparent outline-none w-full max-w-md",type:"text",value:a,placeholder:"Enter Album Title",onChange:o=>l(o.target.value)})}),e("div",{className:"flex justify-center",children:e(b,{to:"/",children:e("button",{className:"bg-indigo-600 p-2 px-4 text-white",onClick:async()=>{try{await t.addAlbumToList(Number(r),a),c(""),l(""),alert("New Album added successfully to the bottom")}catch(o){console.error("Error adding album:",o),alert("Error adding album. Please try again later.")}},children:"Add To List"})})})]})})]})},E=t=>s("div",{className:"min-w-310 h-200 bg-gray-400 mb-5 text-black font-medium p-2 flex flex-col justify-between rounded-tl-xl rounded-br-xl rounded hover:rounded-xl",children:[e("h3",{className:"m-1 p-1 text-center",children:t.album.title}),s("div",{className:"w-full flex justify-between rounded-sm",children:[e(b,{to:"/update-album",children:e("button",{className:"bg-black text-white border-0 p-2 px-4 font-semibold cursor-pointer hover:bg-white hover:text-black rounded-lg",onClick:()=>t.setUpdateAlbum(t.album),children:"Update"})}),s("h3",{className:"p-1",children:["ID : ",t.album.id]}),e("button",{className:"cursor-pointer border-0 p-2 px-4 bg-red-500 text-white font-semibold hover:text-red-500 hover:bg-white rounded-lg",onClick:()=>t.deleteAlbumFromList(t.album.id),children:"Delete"})]})]}),F=t=>s(h,{children:[e(x,{page:"Add Album",path:"/add-album"}),e("div",{className:"mt-20 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 p-5 overflow-hidden overscroll-none",children:t.albums.map(r=>e(E,{album:r,setUpdateAlbum:t.setUpdateAlbum,deleteAlbumFromList:t.deleteAlbumFromList},r.id))})]}),T=t=>{const r=()=>{const c=t.album.id;let a=document.getElementById("title-inp").value,l=document.getElementById("userid-inp").value;a===""&&(a=t.album.title),l===""&&(l=t.album.userId),t.updateAlbumInList(c,a,Number(l),t.album)};return s(h,{children:[e(x,{path:"/",page:"Home"}),e("div",{className:"bg-gray-900 font-P3oppins h-screen items-center flex justify-center",children:s("div",{className:"p-4 bg-gray-400 rounded-xl flex-wrap space-y-4 w-128 h-72",children:[s("h4",{children:["Title: ",t.album.title]}),e("div",{className:"mr-10 bg-white rounded-lg ",children:e("input",{className:"m-2 pl-2 pr-4 bg-transparent outline-none w-full max-w-md",type:"text",id:"title-inp",placeholder:"Enter New Title"})}),s("h4",{children:["User Id: ",t.album.userId]}),e("div",{className:"mr-10 bg-white rounded-lg",children:e("input",{className:"m-2 pl-2 pr-4 bg-transparent outline-none w-full max-w-md",type:"number",id:"userid-inp",placeholder:"Enter New UserId"})}),e("div",{className:"flex justify-center",children:e(b,{to:"/",children:e("button",{className:"bg-sky-900 p-2 px-4 border-black text-white  hover:bg-white hover:text-sky-900 mt-2 hover:border-2 rounded-lg",type:"submit",onClick:r,children:"Update"})})})]})})]})},S=()=>{const[t,r]=m.exports.useState([]),[c,a]=m.exports.useState({});return m.exports.useEffect(()=>{(async()=>{try{const u=await(await fetch("https://jsonplaceholder.typicode.com/albums")).json();r(u)}catch(i){console.error("Error fetching albums:",i)}})()},[]),e(h,{children:s(j,{children:[e(y,{path:"/",element:e(F,{albums:t,setUpdateAlbum:a,deleteAlbumFromList:d=>{fetch(`https://jsonplaceholder.typicode.com/albums/${d}`,{method:"DELETE"});const i=t.filter(u=>u.id!==d);r(i),alert("Your Album Deleted successfully")}})}),e(y,{path:"/add-album",element:e(k,{addAlbumToList:async(d,i)=>{await fetch("https://jsonplaceholder.typicode.com/albums",{method:"POST",body:JSON.stringify({userId:d,title:i}),headers:{"Content-type":"application/json; charset=UTF-8"}});const p=await(await fetch("https://jsonplaceholder.typicode.com/albums")).json();r(p),alert("New Album added successfully to the bottom")}})}),e(y,{path:"/update-album",element:e(T,{album:c,updateAlbumInList:async(d,i,u,p)=>{const N=t.indexOf(p);let f=[];d<100?f=await fetch(`https://jsonplaceholder.typicode.com/albums/${d}`,{method:"PUT",body:JSON.stringify({userId:u,id:d,title:i}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(A=>A.json()):f={userId:u,id:d,title:i};const w=[...t];w[N]=f,r(w),alert("Update Successfully done")}})})]})})},D=()=>e("div",{className:"bg-gray-900 font-P3oppins min-h-screen flex flex-col",children:e(S,{})});L.render(e(I,{children:e(D,{})}),document.getElementById("root"));
